---
// Mobile menu with zero JS - uses CSS checkbox hack
const navItems = [
  { href: '/services/', label: 'Services' },
  { href: '/our-approach/', label: 'Our Approach' },
  { href: '/about/', label: 'About' },
  { href: '/insights/', label: 'Insights' },
];
---

<div class="mobile-menu lg:hidden">
  <!-- Hidden checkbox for state -->
  <input type="checkbox" id="mobile-menu-toggle" class="hidden" />
  
  <!-- Menu button -->
  <label 
    for="mobile-menu-toggle" 
    class="mobile-menu-button fixed top-4 right-4 z-50 p-2 rounded-lg bg-white shadow-lg cursor-pointer"
    aria-label="Toggle menu"
  >
    <svg class="menu-icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path class="menu-icon-open" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      <path class="menu-icon-close hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
    </svg>
  </label>
  
  <!-- Mobile menu overlay -->
  <nav class="mobile-menu-overlay fixed inset-0 bg-white z-40 transform translate-x-full transition-transform">
    <div class="flex flex-col h-full pt-20 px-6">
      <div class="space-y-4">
        {navItems.map(item => (
          <a 
            href={item.href}
            class="block py-3 px-4 text-lg font-medium text-gray-700 hover:text-teal-600 hover:bg-gray-50 rounded-lg transition-colors"
          >
            {item.label}
          </a>
        ))}
      </div>
      
      <div class="mt-auto mb-8">
        <a 
          href="/contact/"
          class="block w-full py-3 px-6 text-center text-white bg-teal-600 rounded-lg font-semibold hover:bg-teal-700 transition-colors"
        >
          Book Discovery Call
        </a>
      </div>
    </div>
  </nav>
</div>

<style>
  /* When checkbox is checked, show menu */
  #mobile-menu-toggle:checked ~ .mobile-menu-overlay {
    transform: translateX(0);
  }
  
  /* Swap icons when menu is open */
  #mobile-menu-toggle:checked ~ .mobile-menu-button .menu-icon-open {
    display: none;
  }
  
  #mobile-menu-toggle:checked ~ .mobile-menu-button .menu-icon-close {
    display: block;
  }
  
  /* Smooth transitions */
  .mobile-menu-overlay {
    transition: transform 0.3s ease-in-out;
  }
  
  /* Prevent body scroll when menu is open */
  #mobile-menu-toggle:checked ~ * {
    overflow: hidden;
  }
  
  @media (min-width: 1024px) {
    .mobile-menu {
      display: none;
    }
  }
</style>